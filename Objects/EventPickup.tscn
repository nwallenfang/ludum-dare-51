[gd_scene load_steps=12 format=2]

[ext_resource path="res://Objects/EventPickup.gd" type="Script" id=1]
[ext_resource path="res://Assets/Materials/EventPickupMaterial.tres" type="Material" id=2]
[ext_resource path="res://Assets/Sprites/banana.png" type="Texture" id=3]
[ext_resource path="res://Effects/SpinCircleEventPickup.tscn" type="PackedScene" id=4]

[sub_resource type="CubeMesh" id=6]
material = ExtResource( 2 )

[sub_resource type="QuadMesh" id=20]
size = Vector2( 2, 2 )

[sub_resource type="SpatialMaterial" id=21]
flags_unshaded = true
flags_no_depth_test = true
params_billboard_mode = 1
params_use_alpha_scissor = true
params_alpha_scissor_threshold = 0.0
albedo_texture = ExtResource( 3 )

[sub_resource type="SphereShape" id=22]
radius = 0.490638

[sub_resource type="Animation" id=18]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("PickupCube:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Transform( 0.354293, -0.352812, 1.41666e-08, 0.288071, 0.28928, -0.288672, 0.203694, 0.204549, 0.40825, 0, 1, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("PickupCube:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 35.264, 0, 44.88 ) ]
}

[sub_resource type="Animation" id=17]
resource_name = "dance"
length = 8.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("PickupCube:transform")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray(  ),
"transitions": PoolRealArray(  ),
"update": 0,
"values": [  ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("PickupCube:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 4, 8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 35.264, 0, 44.88 ), Vector3( 35.264, 180, 44.88 ), Vector3( 35.264, 360, 44.88 ) ]
}

[sub_resource type="SphereShape" id=19]
radius = 1.39819

[node name="EventPickup" type="Spatial"]
script = ExtResource( 1 )

[node name="PickupCube" type="MeshInstance" parent="."]
transform = Transform( 0.354293, -0.352812, 0, 0.288071, 0.28928, -0.288672, 0.203694, 0.204549, 0.40825, 0, 1, 0 )
mesh = SubResource( 6 )

[node name="SpinCircleEventPickup" parent="PickupCube" instance=ExtResource( 4 )]
transform = Transform( 0.820034, -0.533865, 0.206232, 0.558235, 0.666688, -0.493864, 0.126165, 0.520111, 0.844729, 0, 0, 0 )

[node name="PickupQuad" type="MeshInstance" parent="."]
transform = Transform( -0.708586, 0.705624, -1.23288e-07, 0.576142, 0.578561, -0.577345, -0.407388, -0.409099, -0.8165, 0, 1.08845, 0 )
visible = false
mesh = SubResource( 20 )
material/0 = SubResource( 21 )

[node name="PickupBox" type="Area" parent="."]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="PickupBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
shape = SubResource( 22 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/RESET = SubResource( 18 )
anims/dance = SubResource( 17 )

[node name="ChangeLookArea" type="Area" parent="."]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="ChangeLookArea"]
transform = Transform( 4.16521, 0, 0, 0, 4.16521, 0, 0, 0, 4.16521, 0, 0.974549, 0 )
shape = SubResource( 19 )

[connection signal="area_entered" from="PickupBox" to="." method="_on_PickupBox_area_entered"]
[connection signal="area_entered" from="ChangeLookArea" to="." method="_on_ChangeLookArea_area_entered"]
[connection signal="area_exited" from="ChangeLookArea" to="." method="_on_ChangeLookArea_area_exited"]
